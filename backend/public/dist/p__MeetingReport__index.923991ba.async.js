"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[126],{31679:function(G,R,e){e.r(R);var w=e(15009),_=e.n(w),L=e(99289),v=e.n(L),B=e(5574),p=e.n(B),g=e(6110),U=e(62218),I=e(10293),S=e(42075),t=e(2453),i=e(26412),m=e(28036),l=e(27484),E=e.n(l),M=e(67294),b=e(40349),D=e(85576),r=e(20048),c=e(60219),d=e(98169),h=e(85893),a=function(){var s=(0,M.useRef)(),o=(0,M.useState)([]),f=p()(o,2),n=f[0],$=f[1],Z=(0,M.useState)({width:{show:!1},height:{show:!1},alt:{show:!1}}),W=p()(Z,2),F=W[0],V=W[1],ae=(0,I.useIntl)(),X=new URLSearchParams(I.history.location.search),k=String(X.get("id")),z=(0,I.useQuery)(["meeting-report",k],function(){return(0,D.vI)(k)},{enabled:!!k}),H=z.data,q=z.isLoading,Y=H||{},y=Y.meeting,K=Y.attendances,J=(0,M.useMemo)(function(){return(K==null?void 0:K.length)||0},[H]),Q=(0,M.useMemo)(function(){return(K||[]).filter(function(j){return j.status===d.H8.CHECKED_IN}).length},[H]),ee=[{title:"T\xEAn kh\xE1ch m\u1EDDi",dataIndex:"guestId",sorter:!0,render:function(N,C){var O;return(0,h.jsx)("span",{children:(O=C.guestId)===null||O===void 0?void 0:O.fullName})}},{title:"Email",dataIndex:"guestId",sorter:!0,render:function(N,C){var O;return(O=C.guestId)===null||O===void 0?void 0:O.email}},{title:"T\xECnh tr\u1EA1ng",dataIndex:"status",sorter:!0,render:function(N,C){var O;return(0,h.jsx)("span",{children:(O=d.RA.find(function(A){return A.value===C.status}))===null||O===void 0?void 0:O.label})}},{title:"Th\u1EDDi \u0111i\u1EC3m",dataIndex:"time",render:function(N,C){return(0,h.jsx)(S.Z,{children:E()(C.checkInTime).format("DD/MM/YYYY HH:mm")})},sorter:!0}],ne=[{label:"H\u1ED9i ngh\u1ECB",children:y==null?void 0:y.name},{label:"Ng\xE0y t\u1ED5 ch\u1EE9c",children:E()(y==null?void 0:y.time).format("DD/MM/YYYY HH:mm")},{label:"T\u1ED5ng tham d\u1EF1",children:Q},{label:"T\u1ED5ng v\u1EAFng m\u1EB7t",children:J-Q},{label:"T\u1ED5ng kh\xE1ch m\u1EDDi",children:J}],te=function(){var j=v()(_()().mark(function N(){var C;return _()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!(!y||!K)){A.next=3;break}return t.ZP.error("Ch\u01B0a c\xF3 d\u1EEF li\u1EC7u!"),A.abrupt("return");case 3:return C=[{column:"T\xEAn",type:String,value:function(P){var T;return(T=P.guestId)===null||T===void 0?void 0:T.fullName}},{column:"Email",type:String,value:function(P){var T;return(T=P.guestId)===null||T===void 0?void 0:T.email}},{column:"T\xECnh tr\u1EA1ng",type:String,value:function(P){var T;return(T=d.RA.find(function(re){return re.value===P.status}))===null||T===void 0?void 0:T.label}},{column:"Gi\u1EDD tham d\u1EF1",type:Date,format:"HH:mm",value:function(P){return P.checkInTime?new Date(P.checkInTime):null}},{column:"Ng\xE0y tham d\u1EF1",type:Date,format:"dd/mm/yyyy",value:function(P){return P.checkInTime?new Date(P.checkInTime):null}}],A.next=6,(0,b.Z)(K,{schema:C,fileName:"B\xE1o c\xE1o H\u1ED9i ngh\u1ECB - ".concat(y.name,".xlsx")});case 6:t.ZP.success("\u0110\xE3 l\u01B0u b\xE1o c\xE1o th\xE0nh c\xF4ng!");case 7:case"end":return A.stop()}},N)}));return function(){return j.apply(this,arguments)}}();return(0,h.jsx)(g._z,{children:(0,h.jsxs)(S.Z,{size:"large",direction:"vertical",style:{width:"100%"},children:[(0,h.jsx)(i.Z,{title:"T\u1ED5ng k\u1EBFt",bordered:!0,column:{xs:1,sm:1,md:1,lg:1,xl:2,xxl:2},items:ne}),(0,h.jsx)(U.Z,{loading:q,dataSource:K||[],columnsState:(0,r.iW)("meeting",F,V),headerTitle:"Danh s\xE1ch",actionRef:s,rowKey:"_id",search:!1,pagination:{showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:20,pageSizeOptions:[20,50,100,200]},toolBarRender:function(){return[(0,h.jsxs)(m.ZP,{type:"primary",onClick:function(){return te()},children:[(0,h.jsx)(c.Z,{})," L\u01B0u Excel"]},"primary")]},columns:ee,rowSelection:!1})]})})};R.default=a},98169:function(G,R,e){e.d(R,{$c:function(){return m},H8:function(){return U},OD:function(){return b},RA:function(){return I},pV:function(){return S},wS:function(){return E}});var w=e(15009),_=e.n(w),L=e(97857),v=e.n(L),B=e(99289),p=e.n(B),g=e(10293),U=function(r){return r[r.UNKNOWN=0]="UNKNOWN",r[r.CHECKED_IN=1]="CHECKED_IN",r}({}),I=[{label:"Ch\u01B0a tham d\u1EF1",value:0},{label:"\u0110\xE3 tham d\u1EF1",value:1}];function S(r){return function(){var c=p()(_()().mark(function d(h,a,u){var s,o;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=u||{},u.meetingId=r,s=v()(v()({},h),u),a&&(o=Object.entries(a)[0],o&&(s.sort=o[0],s.direction=o[1])),n.abrupt("return",(0,g.request)("/attendance",{method:"GET",params:s}));case 5:case"end":return n.stop()}},d)}));return function(d,h,a){return c.apply(this,arguments)}}()}function t(r){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){var d;return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,request("/attendance/".concat(c),{method:"GET",params:{}});case 2:return d=a.sent,a.abrupt("return",d);case 4:case"end":return a.stop()}},r)})),i.apply(this,arguments)}function m(r,c){return l.apply(this,arguments)}function l(){return l=p()(_()().mark(function r(c,d){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,g.request)("/attendance/".concat(c._id),v()({data:c,method:"PUT"},d||{})));case 1:case"end":return a.stop()}},r)})),l.apply(this,arguments)}function E(r,c){return M.apply(this,arguments)}function M(){return M=p()(_()().mark(function r(c,d){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,g.request)("/attendance",v()({data:c,method:"POST"},d||{})));case 1:case"end":return a.stop()}},r)})),M.apply(this,arguments)}function b(r,c){return D.apply(this,arguments)}function D(){return D=p()(_()().mark(function r(c,d){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,g.request)("/attendance",v()({data:c,method:"DELETE"},d||{})));case 1:case"end":return a.stop()}},r)})),D.apply(this,arguments)}},85576:function(G,R,e){e.d(R,{$Z:function(){return l},Iy:function(){return U},MB:function(){return c},Zb:function(){return M},at:function(){return D},gD:function(){return h},jx:function(){return S},vI:function(){return i}});var w=e(15009),_=e.n(w),L=e(97857),v=e.n(L),B=e(99289),p=e.n(B),g=e(10293);function U(u,s,o){return I.apply(this,arguments)}function I(){return I=p()(_()().mark(function u(s,o,f){var n,$;return _()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return n=v()(v()({},s),f),o&&($=Object.entries(o)[0],$&&(n.sort=$[0],n.direction=$[1])),W.abrupt("return",(0,g.request)("/meeting",{method:"GET",params:n}));case 3:case"end":return W.stop()}},u)})),I.apply(this,arguments)}function S(u){return t.apply(this,arguments)}function t(){return t=p()(_()().mark(function u(s){var o;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.request)("/meeting/".concat(s),{method:"GET",params:{}});case 2:return o=n.sent,n.abrupt("return",o);case 4:case"end":return n.stop()}},u)})),t.apply(this,arguments)}function i(u){return m.apply(this,arguments)}function m(){return m=p()(_()().mark(function u(s){var o;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.request)("/meeting/report/".concat(s),{method:"GET",params:{}});case 2:return o=n.sent,n.abrupt("return",o.data);case 4:case"end":return n.stop()}},u)})),m.apply(this,arguments)}function l(u,s){return E.apply(this,arguments)}function E(){return E=p()(_()().mark(function u(s,o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.request)("/meeting/".concat(s._id),v()({data:s,method:"PUT"},o||{})));case 1:case"end":return n.stop()}},u)})),E.apply(this,arguments)}function M(u,s){return b.apply(this,arguments)}function b(){return b=p()(_()().mark(function u(s,o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.request)("/meeting",v()({data:s,method:"POST"},o||{})));case 1:case"end":return n.stop()}},u)})),b.apply(this,arguments)}function D(u,s){return r.apply(this,arguments)}function r(){return r=p()(_()().mark(function u(s,o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.request)("/meeting",v()({data:s,method:"DELETE"},o||{})));case 1:case"end":return n.stop()}},u)})),r.apply(this,arguments)}function c(u){return d.apply(this,arguments)}function d(){return d=p()(_()().mark(function u(s){var o;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.request)("/meeting/generate/".concat(s),{method:"GET",params:{}});case 2:return o=n.sent,n.abrupt("return",o.data);case 4:case"end":return n.stop()}},u)})),d.apply(this,arguments)}function h(){return a.apply(this,arguments)}function a(){return a=p()(_()().mark(function u(){var s;return _()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,g.request)("/meeting/checkin-url",{method:"GET"});case 2:return s=f.sent,f.abrupt("return",s);case 4:case"end":return f.stop()}},u)})),a.apply(this,arguments)}},20048:function(G,R,e){e.d(R,{iW:function(){return B}});var w=e(52677),_=e.n(w),L=e(5574),v=e.n(L);function B(t,i,m){return{value:i,onChange:function(E){JSON.stringify(E)!==JSON.stringify(i)&&(m(E),localStorage.setItem(t,JSON.stringify(E)))},persistenceKey:t,persistenceType:"localStorage"}}function p(t,i){return{pageSizeOptions:i,showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:parseInt(localStorage.getItem(t)||i[0].toString()),onShowSizeChange:function(l,E){localStorage.setItem(t,E.toString())}}}function g(t){for(var i={},m=0,l=Object.entries(t);m<l.length;m++){var E=_slicedToArray(l[m],2),M=E[0],b=E[1],D=M.split(".");if(D.length===1){i[M]=b;continue}for(var r=i,c=0;c<D.length-1;++c){var d=D[c];r[d]||(r[d]={}),r=r[d]}r[D[D.length-1]]=b}return i}function U(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(!t)return{};var m={};for(var l in t)_typeof(t[l])==="object"&&t[l]!==null?Object.assign(m,U(t[l],i+l+".")):m[i+l]=t[l];return m}function I(t,i){if(t=t||[],i=i||[],!(!t.length&&!i.length)){var m={};return t=t.filter(function(l){return!i.includes(l)}),t.length&&(m.disconnect=t.map(function(l){return{id:l}})),i.length&&(m.createOrConnect={product:{connect:i.map(function(l){return{id:l}}),position:0}}),m}}function S(t){return Array.isArray(t)?!t.length:t&&t.toNumber?t.toNumber()===0:!t}}}]);
