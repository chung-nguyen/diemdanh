{"version":3,"sources":["node_modules/@ant-design/icons-svg/es/asn/FileExcelOutlined.js","node_modules/@ant-design/icons/es/icons/FileExcelOutlined.js","node_modules/@ant-design/icons-svg/es/asn/QrcodeOutlined.js","node_modules/@ant-design/icons/es/icons/QrcodeOutlined.js","src/services/ant-design-pro/guest.ts","src/pages/GuestList/components/CreateForm.tsx","src/pages/GuestList/components/UpdateForm.tsx","src/pages/GuestList/components/ImportForm.tsx","src/pages/GuestList/index.tsx"],"sourcesContent":["// This icon file is generated automatically.\nvar FileExcelOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z\" } }] }, \"name\": \"file-excel\", \"theme\": \"outlined\" };\nexport default FileExcelOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FileExcelOutlinedSvg from \"@ant-design/icons-svg/es/asn/FileExcelOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar FileExcelOutlined = function FileExcelOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: FileExcelOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(FileExcelOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'FileExcelOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar QrcodeOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"qrcode\", \"theme\": \"outlined\" };\nexport default QrcodeOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport QrcodeOutlinedSvg from \"@ant-design/icons-svg/es/asn/QrcodeOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar QrcodeOutlined = function QrcodeOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: QrcodeOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(QrcodeOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'QrcodeOutlined';\n}\nexport default RefIcon;","// @ts-ignore\r\n/* eslnumber-disable */\r\nimport { request } from '@umijs/max';\r\nimport { SortOrder } from 'antd/es/table/numbererface';\r\n\r\nexport type GuestType = {\r\n  _id: string;\r\n  meetingId: string,\r\n  seat: Number,\r\n  idNumber: string,\r\n  phoneNumber: string,\r\n  email: string,\r\n  fullName: string,\r\n  office: string,\r\n  workplace: string,\r\n};\r\n\r\n/** Get a list of guests GET /guests */\r\nexport function guests(meetingId: string) {\r\n  return async (\r\n    params: {\r\n      pageSize?: number;\r\n      current?: number;\r\n      keyword?: string;\r\n    },\r\n    sort: Record<string, SortOrder>,\r\n    filter: Record<string, (string | number)[] | string | null>,\r\n  ) => {\r\n    filter = filter || {};\r\n    filter.meetingId = meetingId;\r\n\r\n    const queryParams: any = {\r\n      ...params,\r\n      ...filter,\r\n    };\r\n\r\n    if (sort) {\r\n      const sortEntry = Object.entries(sort)[0];\r\n      if (sortEntry) {\r\n        queryParams.sort = sortEntry[0];\r\n        queryParams.direction = sortEntry[1];\r\n      }\r\n    }\r\n\r\n    return request<{\r\n      data: GuestType[];\r\n      /** The total number of items in the list */\r\n      total?: number;\r\n      success?: boolean;\r\n    }>('/guest', {\r\n      method: 'GET',\r\n      params: queryParams,\r\n    });\r\n  };\r\n}\r\n\r\n/** Get a single guest GET /guests/:id */\r\nexport async function getGuest(id: string) {\r\n  const response = await request<{\r\n    data: GuestType;\r\n    success?: boolean;\r\n  }>(`/guest/${id}`, {\r\n    method: 'GET',\r\n    params: {},\r\n  });\r\n\r\n  return response;\r\n}\r\n\r\n/** Update guest PUT /guests */\r\nexport async function updateGuest(data: { [key: string]: any }, options?: { [key: string]: any }) {\r\n  return request<{ success: boolean; data: GuestType }>(`/guest/${data._id}`, {\r\n    data,\r\n    method: 'PUT',\r\n    ...(options || {}),\r\n  });\r\n}\r\n\r\n/** New guest POST /guests */\r\nexport async function addGuest(data: { [key: string]: any }, options?: { [key: string]: any }) {\r\n  return request<{ success: boolean; data: GuestType }>('/guest', {\r\n    data,\r\n    method: 'POST',\r\n    ...(options || {}),\r\n  });\r\n}\r\n\r\n/** delete guest DELETE /guests */\r\nexport async function removeGuests(data: { ids: string[] }, options?: { [key: string]: any }) {\r\n  return request<{ success: boolean; message: string }>('/guest', {\r\n    data,\r\n    method: 'DELETE',\r\n    ...(options || {}),\r\n  });\r\n}\r\n\r\nexport async function search(query: string, limit: number, options?: { [key: string]: any }) {\r\n  const response = await request<GuestType[]>('/guest/search', {\r\n    params: {      \r\n      q: query,      \r\n      c: limit,\r\n    },\r\n    method: 'GET',\r\n    ...(options || {}),\r\n  });\r\n\r\n  return response;\r\n}","import {\r\n  DrawerForm,\r\n  ProFormSelect,\r\n  ProFormText,\r\n  ProFormTextArea,\r\n} from '@ant-design/pro-components';\r\nimport { useIntl } from '@umijs/max';\r\nimport React from 'react';\r\n\r\nimport { type GuestType } from '@/services/ant-design-pro/guest';\r\nimport { Form, Input } from 'antd';\r\nimport { MeetingType } from '@/services/ant-design-pro/meeting';\r\n\r\ntype CreateFormProps = {\r\n  meeting: MeetingType | undefined;\r\n  createModalVisible: boolean;\r\n  children?: React.ReactNode;\r\n  onSubmit: (values: GuestType) => Promise<void>;\r\n  onCancel: () => void;\r\n};\r\n\r\nconst CreateForm: React.FC<CreateFormProps> = (props) => {\r\n  const { meeting, createModalVisible, onSubmit, onCancel } = props;\r\n\r\n  const intl = useIntl();\r\n\r\n  return (\r\n    <DrawerForm\r\n      title={intl.formatMessage({ id: 'pages.form.metafields.new', defaultMessage: 'Thêm khách mời' })}\r\n      width={600}\r\n      open={createModalVisible}\r\n      onFinish={onSubmit}\r\n      drawerProps={{\r\n        onClose: onCancel,\r\n        destroyOnClose: true,\r\n      }}\r\n      grid={true}\r\n      initialValues={{\r\n        description: '',\r\n        key: '',\r\n        namespace: '',\r\n        value: '',\r\n      }}\r\n    >\r\n      <Form.Item label=\"Hội nghị\" style={{ width: '100%' }}>\r\n        <Input readOnly value={meeting?.name} />\r\n      </Form.Item>\r\n      <ProFormText colProps={{ span: 24 }} name=\"seat\" label=\"Số ghế\" />\r\n      <ProFormText colProps={{ span: 24 }} name=\"idNumber\" label=\"Số CCCD\" />\r\n      <ProFormText colProps={{ span: 24 }} name=\"phoneNumber\" label=\"Điện thoại\" />\r\n      <ProFormText colProps={{ span: 24 }} name=\"email\" label=\"Email\" />\r\n      <ProFormText colProps={{ span: 24 }} name=\"fullName\" label=\"Tên\" />\r\n      <ProFormText colProps={{ span: 24 }} name=\"office\" label=\"Chức vụ\" />\r\n      <ProFormText colProps={{ span: 24 }} name=\"workplace\" label=\"Đơn vị\" />\r\n    </DrawerForm>\r\n  );\r\n};\r\n\r\nexport default CreateForm;\r\n","import {\n  DrawerForm,\n  ProFormSelect,\n  ProFormText,\n  ProFormTextArea,\n} from '@ant-design/pro-components';\nimport { useIntl } from '@umijs/max';\nimport React from 'react';\n\nimport { type GuestType } from '@/services/ant-design-pro/guest';\nimport Avatar from 'antd/es/avatar/avatar';\nimport { UserOutlined } from '@ant-design/icons';\nimport { getPhotoURL } from '@/services/utils/common-utils';\nimport { Flex, Form, Input } from 'antd';\nimport { MeetingType } from '@/services/ant-design-pro/meeting';\n\nexport type UpdateFormProps = {\n  meeting: MeetingType | undefined;  \n  onCancel: () => void;\n  onSubmit: (values: GuestType) => Promise<void>;\n  updateModalVisible: boolean;\n  values: Partial<GuestType>;\n};\n\nconst UpdateForm: React.FC<UpdateFormProps> = ({\n  meeting,\n  onSubmit,\n  onCancel,\n  updateModalVisible,\n  values,\n  ...props\n}) => {\n  const intl = useIntl();\n\n  return (\n    <DrawerForm\n      title={[values.fullName, values.idNumber].join(' ')}\n      width={600}\n      open={updateModalVisible}\n      onFinish={onSubmit}\n      drawerProps={{\n        onClose: onCancel,\n        destroyOnClose: true,\n      }}\n      initialValues={values}\n    >\n      <Form.Item label=\"Hội nghị\" style={{ width: '100%' }}>\n        <Input readOnly value={meeting?.name} />\n      </Form.Item>\n      <ProFormText colProps={{ span: 24 }} name=\"seat\" label=\"Số ghế\" />\n      <ProFormText colProps={{ span: 24 }} name=\"idNumber\" label=\"Số CCCD\" />\n      <ProFormText colProps={{ span: 24 }} name=\"phoneNumber\" label=\"Điện thoại\" />\n      <ProFormText colProps={{ span: 24 }} name=\"email\" label=\"Email\" />\n      <ProFormText colProps={{ span: 24 }} name=\"fullName\" label=\"Tên\" />\n      <ProFormText colProps={{ span: 24 }} name=\"office\" label=\"Chức vụ\" />\n      <ProFormText colProps={{ span: 24 }} name=\"workplace\" label=\"Đơn vị\" />\n    </DrawerForm>\n  );\n};\n\nexport default UpdateForm;\n","import { useIntl } from '@umijs/max';\r\nimport React from 'react';\r\n\r\nimport { InboxOutlined } from '@ant-design/icons';\r\nimport { message, Modal } from 'antd';\r\nimport Dragger from 'antd/es/upload/Dragger';\r\nimport { UploadProps } from 'antd/lib';\r\nimport { getAPIURL } from '@/services/utils/common-utils';\r\nimport { getAccessToken } from '@/services/ant-design-pro/login';\r\n\r\nexport type ImportFormProps = {\r\n  onCancel: () => void;\r\n  onDone: () => void;\r\n  visible: boolean;\r\n  meetingId: string;\r\n};\r\n\r\nconst ImportForm: React.FC<ImportFormProps> = ({ meetingId, onDone, onCancel, visible }) => {\r\n  const intl = useIntl();\r\n  const accessToken = getAccessToken();\r\n\r\n  const props: UploadProps = {\r\n    name: 'file',\r\n    multiple: false,\r\n    action: getAPIURL(`meeting/import-addendum/${meetingId}`),\r\n    headers: {\r\n      Authorization: `Bearer ${accessToken}`,\r\n    },\r\n    onChange(info) {\r\n      const { status } = info.file;\r\n      if (status !== 'uploading') {\r\n        console.log(info.file, info.fileList);\r\n      }\r\n      if (status === 'done') {\r\n        message.success(`${info.file.name} nhập thành công.`);\r\n        onDone();\r\n      } else if (status === 'error') {\r\n        message.error(`${info.file.name} nhập thất bại.`);\r\n      }\r\n    },\r\n    onDrop(e) {\r\n      console.log('Dropped files', e.dataTransfer.files);\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Modal open={visible} onOk={onCancel} onCancel={onCancel}>\r\n      <Dragger {...props}>\r\n        <p className=\"ant-upload-drag-icon\">\r\n          <InboxOutlined />\r\n        </p>\r\n        <p className=\"ant-upload-text\">Click hoặc kéo file vào đây để nhập</p>\r\n        <p className=\"ant-upload-hint\">Bổ sung khách mời bằng cách nhập file Excel.</p>\r\n      </Dragger>      \r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ImportForm;\r\n","import {\n  BookOutlined,\n  CiCircleOutlined,\n  DownOutlined,\n  FileExcelOutlined,\n  HomeOutlined,\n  PlusOutlined,\n  PrinterOutlined,\n  QrcodeOutlined,\n  SaveOutlined,\n  UpCircleOutlined,\n  UserOutlined,\n} from '@ant-design/icons';\nimport type { ActionType, ColumnsState, ProColumns } from '@ant-design/pro-components';\nimport { FooterToolbar, PageContainer, ProTable } from '@ant-design/pro-components';\nimport { history, useIntl, useQuery } from '@umijs/max';\nimport { Avatar, Button, Dropdown, message, Modal, Popconfirm, Space } from 'antd';\nimport dayjs from 'dayjs';\nimport React, { useRef, useState } from 'react';\n\nimport {\n  addGuest,\n  guests,\n  removeGuests,\n  updateGuest,\n  type GuestType,\n} from '@/services/ant-design-pro/guest';\nimport {\n  generateInviteSheet,\n  getCheckInURL,\n  getMeeting,\n  printQRSheet,\n  resetMeeting,\n} from '@/services/ant-design-pro/meeting';\nimport { tableColumnState } from '@/services/utils/antd-utils';\n\nimport CreateForm from './components/CreateForm';\nimport UpdateForm from './components/UpdateForm';\nimport { buildCheckInURL, getPhotoURL } from '@/services/utils/common-utils';\nimport CopyableQRCode from '@/components/QRCode';\nimport ImportForm from './components/ImportForm';\nimport { getAccessToken } from '@/services/ant-design-pro/login';\n\n/**\n * Add node\n *\n * @param fields\n */\nconst handleAdd = async (fields: GuestType) => {\n  const hide = message.loading('Đang xử lý');\n\n  try {\n    await addGuest({ ...fields });\n    hide();\n    message.success('Đã thêm thành công');\n    return true;\n  } catch (error: any) {\n    hide();\n\n    if (error.response?.data?.message && error.response.data.message.startsWith('E11000')) {\n      message.error('Khách mời đã có trong danh sách! Vui lòng chọn khách mời khác.');\n    } else {\n      message.error('Vui lòng thử lại!');\n    }\n    return false;\n  }\n};\n\n/**\n * Update node\n *\n * @param fields\n */\nconst handleUpdate = async (fields: GuestType, currentRow?: GuestType) => {\n  const hide = message.loading('Đang xử lý');\n\n  try {\n    await updateGuest({\n      ...currentRow,\n      ...fields,\n    });\n    hide();\n    message.success('Cập nhật thành công');\n    return true;\n  } catch (error) {\n    hide();\n    message.error('Vui lòng thử lại!');\n    return false;\n  }\n};\n\n/**\n * Delete node\n *\n * @param selectedRows\n */\nconst handleRemove = async (selectedRows: GuestType[]) => {\n  const hide = message.loading('Đang xử lý');\n  if (!selectedRows) return true;\n\n  try {\n    await removeGuests({\n      ids: selectedRows.map((row: any) => row._id),\n    });\n    hide();\n    message.success('Xóa thành công!');\n    return true;\n  } catch (error) {\n    hide();\n    message.error('Vui lòng thử lại!');\n    return false;\n  }\n};\n\nconst handlePrintQRSheet = async (id: string, fileName: string, accessToken: string) => {\n  const hide = message.loading('Đang xử lý');\n\n  try {\n    await printQRSheet(id, fileName, accessToken);\n    hide();\n    message.success('Đã xử lý thành công');\n    return true;\n  } catch (error: any) {\n    hide();\n    console.error(error);\n    message.error('Vui lòng thử lại!');\n    return false;\n  }\n};\n\nconst GuestList: React.FC = () => {\n  const [createModalVisible, handleCreateModalVisible] = useState<boolean>(false);\n  const [updateModalVisible, handleUpdateModalVisible] = useState<boolean>(false);\n  const [importModalVisible, handleImportModalVisible] = useState<boolean>(false);\n  const [showDetail, setShowDetail] = useState<boolean>(false);\n  const actionRef = useRef<ActionType>();\n  const [currentRow, setCurrentRow] = useState<GuestType>();\n  const [selectedRowsState, setSelectedRows] = useState<GuestType[]>([]);\n  const [columnsStateMap, setColumnsStateMap] = useState<Record<string, ColumnsState>>({\n    width: { show: false },\n    height: { show: false },\n    alt: { show: false },\n  });\n  const { data: checkInURL } = useQuery(['check-in-url'], () => getCheckInURL());\n\n  const urlParams = new URLSearchParams(history.location.search);\n  const meetingId = String(urlParams.get('id'));\n  const accessToken = getAccessToken();\n\n  const { data: meeting, isLoading } = useQuery(\n    ['attendance-list', meetingId],\n    () => getMeeting(meetingId),\n    {\n      enabled: !!meetingId,\n    },\n  );\n\n  const columns: ProColumns<GuestType>[] = [\n    {\n      title: 'Ghế',\n      dataIndex: 'seat',\n      sorter: true,\n    },\n    {\n      title: 'Tên khách mời',\n      dataIndex: 'guestId',\n      sorter: true,\n      render: (dom, entity) => (\n        <Space>\n          <Avatar\n            src={getPhotoURL((entity._id as any)?.idNumber + '.jpg')}\n            icon={<UserOutlined />}\n          />\n          <a\n            onClick={() => {\n              handleUpdateModalVisible(true);\n              setCurrentRow(entity);\n            }}\n          >\n            {entity?.fullName}\n          </a>\n        </Space>\n      ),\n    },\n    {\n      title: 'Chức vụ',\n      dataIndex: 'guestId',\n      sorter: true,\n      render: (dom, entity) => entity?.office,\n    },\n    {\n      title: 'Đơn vị',\n      dataIndex: 'guestId',\n      sorter: true,\n      render: (dom, entity) => entity?.workplace,\n    },\n    {\n      title: 'Số điện thoại',\n      dataIndex: 'guestId',\n      sorter: true,\n      render: (dom, entity) => entity?.phoneNumber,\n    },\n    {\n      title: 'Email',\n      dataIndex: 'guestId',\n      sorter: true,\n      render: (dom, entity) => entity?.email,\n    },\n    {\n      title: 'QR Code',\n      dataIndex: 'guestId',\n      sorter: false,\n      render: (dom, entity) => {\n        const link = '';\n        return (\n          <CopyableQRCode\n            size={256}\n            height={64}\n            style={{ height: 'auto', maxWidth: '50%', width: '50%' }}\n            value={link}\n            viewBox={`0 0 256 256`}\n          >\n            {' '}\n          </CopyableQRCode>\n        );\n      },\n    },\n    // {\n    //   title: 'Thao tác',\n    //   dataIndex: 'option',\n    //   valueType: 'option',\n    //   render: (_, record) => [\n    //     <Popconfirm\n    //       key=\"delete\"\n    //       title=\"Chắc chắn?\"\n    //       onConfirm={async () => {\n    //         await handleRemove([record]);\n    //         setSelectedRows([]);\n    //         actionRef.current?.reloadAndRest?.();\n    //       }}\n    //     >\n    //       <a>Xóa</a>\n    //     </Popconfirm>,\n    //   ],\n    // },\n  ];\n\n  return (\n    <PageContainer loading={isLoading}>\n      <ProTable<GuestType, TableListPagination>\n        columnsState={tableColumnState('attendance', columnsStateMap, setColumnsStateMap)}\n        headerTitle={`Danh sách Khách mời của ${meeting?.data.name}`}\n        actionRef={actionRef}\n        rowKey=\"_id\"\n        search={false}\n        pagination={{\n          showSizeChanger: true,\n          showQuickJumper: true,\n          defaultPageSize: 20,\n          pageSizeOptions: [20, 50, 100, 200],\n        }}\n        toolBarRender={() => [\n          <Button\n            type=\"primary\"\n            key=\"primary\"\n            onClick={() => {\n              handleCreateModalVisible(true);\n            }}\n          >\n            <PlusOutlined /> Tạo mới\n          </Button>,\n\n          <Button type=\"default\" key=\"default\" onClick={() => handleImportModalVisible(true)}>\n            <FileExcelOutlined /> Bổ sung từ Excel\n          </Button>,\n\n          <Button type=\"default\" key=\"default\" onClick={() => handlePrintQRSheet(meetingId, 'QR - ' + String(meeting?.data.name) + '.pdf', accessToken)}>\n            <QrcodeOutlined /> In QR\n          </Button>\n        ]}\n        request={guests(meetingId)}\n        columns={columns}\n        rowSelection={{\n          onChange: (_, selectedRows) => {\n            setSelectedRows(selectedRows);\n          },\n        }}\n      />\n      {selectedRowsState?.length > 0 && (\n        <FooterToolbar\n          extra={\n            <div>\n              Selected&nbsp;\n              <a\n                style={{\n                  fontWeight: 600,\n                }}\n              >\n                {selectedRowsState.length}\n              </a>\n              &nbsp; items\n            </div>\n          }\n        >\n          <Popconfirm\n            key=\"delete\"\n            title=\"Chắc chắn?\"\n            onConfirm={async () => {\n              await handleRemove(selectedRowsState);\n              setSelectedRows([]);\n              actionRef.current?.reloadAndRest?.();\n            }}\n          >\n            <Button>Xóa nhiều dòng</Button>\n          </Popconfirm>\n        </FooterToolbar>\n      )}\n\n      <CreateForm\n        meeting={meeting?.data}\n        createModalVisible={createModalVisible}\n        onSubmit={async (value: GuestType) => {\n          if (!meeting?.data._id) {\n            return;\n          }\n          value.meetingId = meeting?.data._id;\n          const success = await handleAdd(value);\n          if (success) {\n            handleCreateModalVisible(false);\n            if (actionRef.current) {\n              actionRef.current.reload();\n            }\n          }\n        }}\n        onCancel={() => {\n          handleCreateModalVisible(false);\n          setCurrentRow(undefined);\n          setShowDetail(false);\n        }}\n      />\n\n      <UpdateForm\n        meeting={meeting?.data}\n        onSubmit={async (value) => {\n          const success = await handleUpdate(value, currentRow);\n\n          if (success) {\n            handleUpdateModalVisible(false);\n            setCurrentRow(undefined);\n            setShowDetail(false);\n\n            if (actionRef.current) {\n              actionRef.current.reload();\n            }\n          }\n        }}\n        onCancel={() => {\n          handleUpdateModalVisible(false);\n          setCurrentRow(undefined);\n          setShowDetail(false);\n        }}\n        updateModalVisible={updateModalVisible}\n        values={currentRow || {}}\n      />\n\n      <ImportForm\n        meetingId={meetingId}\n        onCancel={() => {\n          handleImportModalVisible(false);\n        }}\n        onDone={() => actionRef.current?.reloadAndRest?.()}\n        visible={importModalVisible}\n      />\n    </PageContainer>\n  );\n};\n\nexport default GuestList;\n"],"names":[],"mappings":"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"}